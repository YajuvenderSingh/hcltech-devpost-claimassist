{
    "EventSourceMappings": [
        {
            "Description": "Active document processing Lambda consumer",
            "EventSourceArn": "arn:aws:sqs:{{REGION}}:{{ACCOUNT_ID}}:NMMDocProcessingQueue",
            "FunctionName": "nmm_document_extraction_lambda",
            "BatchSize": 10,
            "MaximumBatchingWindowInSeconds": 0,
            "State": "Enabled",
            "StartingPosition": "LATEST"
        },
        {
            "Description": "Alternative document processing Lambda consumer (disabled by default)",
            "EventSourceArn": "arn:aws:sqs:{{REGION}}:{{ACCOUNT_ID}}:NMMDocProcessingQueue", 
            "FunctionName": "nmm-document-extraction-new",
            "BatchSize": 1,
            "MaximumBatchingWindowInSeconds": 0,
            "State": "Disabled",
            "StartingPosition": "LATEST"
        }
    ],
    "CreateCommands": [
        {
            "Description": "Create event source mapping for primary consumer",
            "Command": "aws lambda create-event-source-mapping --event-source-arn arn:aws:sqs:{{REGION}}:{{ACCOUNT_ID}}:NMMDocProcessingQueue --function-name nmm_document_extraction_lambda --batch-size 10 --enabled"
        },
        {
            "Description": "Create event source mapping for secondary consumer (disabled)",
            "Command": "aws lambda create-event-source-mapping --event-source-arn arn:aws:sqs:{{REGION}}:{{ACCOUNT_ID}}:NMMDocProcessingQueue --function-name nmm-document-extraction-new --batch-size 1 --no-enabled"
        }
    ]
}
